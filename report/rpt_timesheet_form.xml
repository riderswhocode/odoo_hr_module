<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="timesheet_form_rpt">
            <t t-call="report.html_container">
                <t t-foreach="timesheet_mul" t-as="ts">
                    <link rel="stylesheet" href="/hr_china/static/src/css/style.css"/>
                    <div class="page" style="margin:0px;">
                        <div class="timesheet_logo">
                            <t t-if="company_id">
                                <div t-field="company_id.logo" t-field-options='{"widget": "image"}'/>
                            </t>
                        </div>
                        <table class="overtime_header">
                            <tr>
                            </tr>
                        </table>
                        <div class="ot_title_header">
                            <table>
                                <tr>
                                    <td>
                                        <div class="ot_header_label">TIMESHEET<t t-esc="cn_1"/></div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div>
                            <link rel="stylesheet" href="/hr_china/static/src/css/style.css"/>
                            <table class="overtime_form_page table1 table-show timesheet_lis">
                                <tr>
                                    <td style="width:11.3%;font-weight:600;">
                                        <div>
                                            <div>Employee (员工姓名)</div>
                                        </div>
                                    </td>
                                    <td colspan="3" style="width:80%; font-weight:600;" class="empty_td">
                                        <t t-esc="ts.employee_id.name"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width:11.3%;font-weight:600;">
                                        <div>
                                            <div>Department (部门)</div>
                                        </div>
                                    </td>
                                    <td style="width:25%; font-weight:600;" class="empty_td">
                                        <t t-esc="ts.department_id.name"/>
                                    </td>
                                    <td style="width:15%; font-weight:600;">
                                        <div>
                                            <div>Position (职位)</div>
                                        </div>
                                    </td>
                                    <td style="width:15%; font-weight:600;" class="empty_td">
                                        <t t-esc="ts.job_title_id.name"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width:11.3%;font-weight:600;">
                                        <div>
                                            <div>Time Period (期)</div>
                                        </div>
                                    </td>
                                    <td colspan="3" style="font-weight:600;">
                                        <div>
                                            <t t-esc="datetime.datetime.strptime(ts.period_from, '%Y-%m-%d %H:%M:%S').strftime('%b %d,%Y')"/> -
                                            <t t-esc="datetime.datetime.strptime(ts.period_to, '%Y-%m-%d %H:%M:%S').strftime('%b %d,%Y')"/>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                            <table class="overtime_form_page table2 table-show timesheet_lis">
                                <tr style="text-align:center;">
                                    <td style="width:10%; font-weight:600;">Date<br/>日期</td>
                                    <td style="width:7%; font-weight:600;">Day<br/>天</td>
                                    <td align="center" style="width:20%; font-weight:600;text-align:center;" t-att-colspan="2">Morning<br/>早上</td>
                                    <td style="font-weight:600;">Break<br/>休息时间</td>
                                    <td align="center" style="width:20%; font-weight:600;text-align:center;" t-att-colspan="2">Afternoon<br/>下午</td>
                                    <td style="font-weight:600;">Overtime<br/>加班</td>
                                    <td style="font-weight:600;">Notes<br/>笔记</td>
                                    <td style="font-weight:600;">Total<br/>工作时间</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td style="width:10%; font-weight:600;">Check In<br/>上班打卡</td>
                                    <td style="width:10%; font-weight:600;">Check Out<br/>下班打卡</td>
                                    <td></td>
                                    <td style="width:10%; font-weight:600;">Check In<br/>上班打卡</td>
                                    <td style="width:10%; font-weight:600;">Check Out<br/>下班打卡</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <t t-foreach="ts.attendance_trans" t-as="ta">
                                    <tr>
                                        <td>
                                            <t t-esc="datetime.datetime.strptime(ta.date, '%Y-%m-%d %H:%M:%S').strftime('%b. %d')" />
                                        </td>
                                        <td><t t-esc="ta.date_day"/></td>

                                        <td><t t-esc="ta.check_in_am_str" /></td>
                                        <td><t t-esc="ta.check_out_am_str" /></td>
                                        <td><t t-esc="round(ta.break_hours,2)" /></td>
                                        <td><t t-esc="ta.check_in_pm_str" /></td>
                                        <td><t t-esc="ta.check_out_pm_str" /></td>


                                        <td><t t-esc="round(ta.overtime_hours,2)"/></td>
                                        <td></td>
                                        <td><t t-esc="round(ta.work_hours, 2)"/></td>
                                    </tr>
                                </t>
                            </table>
                            <table class="overtime_form_page table2 table-show timesheet_lis">
                                <tr>
                                    <td style="width:26.5%; font-weight:600;">Weekdays Work Hours<br/>工作时间</td>
                                    <td style="width:20%;">
                                        <t t-esc="timesheet_lis.work_time"/>
                                    </td>
                                    <td style="width:31%; font-weight:600;">Weekends Work Hours<br/>周末工作时间</td>
                                    <td style="width:20%;">
                                        <t t-esc="timesheet_lis.work_time_weekend"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width:26.5%; font-weight:600;">Weekdays Overtime Hours<br/>加班时间</td>
                                    <td style="width:19%;">
                                        <t t-esc="timesheet_lis.weekday_ot_hours"/>
                                    </td>
                                    <td style="width:31%; font-weight:600;">Weekends Overtime Hours<br/>周末加班时间</td>
                                    <td style="width:20%;">
                                        <t t-esc="timesheet_lis.weekend_ot_hours"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width:26.5%; font-weight:600;">Holiday Hours<br/>法定节假日加班时间</td>
                                    <td style="width:19%">
                                        <t t-esc="timesheet_lis.holiday"/>
                                    </td>
                                    <td style="width:31%; font-weight:600;">Leaves<br/>请假</td>
                                    <td style="width:20%">
                                        <t t-esc="timesheet_lis.leaves"/>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <div class="ot_after_table">
                            <div class="ot_emp_sig">
                                <div>__________________________________</div>
                                <div class="ot_sig">Employee Signature - 员工签名</div>
                            </div>
                            <div class="ot_hr_sig">
                                <div>__________________________________</div>
                                <div class="ot_sig">HR Signature - 人力资源签名</div>
                            </div>
                        </div>
                    </div>
                </t>
            </t>
        </template>
    </data>
</odoo>