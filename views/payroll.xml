<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>

        <record id="view_zulu_hr_payslip_filter" model="ir.ui.view">
            <field name="name">zulu_hr.payslip.select</field>
            <field name="model">hr_china.payslip</field>
            <field name="arch" type="xml">
                <search string="Search Payslips">
                    <field name="name" string="Payslips" filter_domain="['|',('name','ilike',self)]"/>
                    <field name="start_date"/>
                    <filter string="Draft" domain="[('state','=','draft')]" help="Draft Slip"/>
                    <filter string="Done" domain="[('state','=','done')]" help="Done Slip"/>
                    <field name="employee_id"/>
                    <group expand="0" string="Group By">
                        <filter string="Employees" name="employee_id" context="{'group_by':'employee_id'}"/>
                        <filter string="States" name="state" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="view_zulu_hr_contract_filter" model="ir.ui.view">
            <field name="name">zulu_hr.payslip.select</field>
            <field name="model">hr_china.contract</field>
            <field name="arch" type="xml">
                <search string="Search Contracts">
                    <field name="name" string="Contract" filter_domain="['|',('name','ilike',self)]"/>
                    <field name="employee_id"/>
                    <group expand="0" string="Group By">
                        <filter string="Employees" name="employee_id" context="{'group_by':'employee_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="view_hr_china_payslip_tree" model="ir.ui.view">
            <field name="name">hr_china_payslip.tree</field>
            <field name="model">hr_china.payslip</field>
            <field name="arch" type="xml">
                <tree string="Payslips">
                    <field name="currency_id" invisible="1"/>
                    <field name="name" />
                    <field name="wage_type" />
                    <field name="start_date" widget="date"/>
                    <field name="end_date" widget="date"/>
                    <field name="total_days" />
                    <field name="worked_days" attrs="{'invisible': [('wage_type', '=', 'hourly')]}" />
                    <field name="total_work_hours" attrs="{'invisible': [('wage_type', '=', 'monthly')]}" />
                    <field name="basic_pay" widget="monetary" sum="Total Basic Pay"/>
                    <field name="total_benefits" widget="monetary" sum="Total Benefits"/>
                    <field name="total_deductions" widget="monetary" sum="Total Deductions"/>
                    <field name="net_pay" widget="monetary" sum="Total Net Pay"/>
                    <field name="gross_pay" widget="monetary" sum="Total Gross Pay"/>
                    <field name="payslip_state" widget="tree_html"/>
                </tree>
            </field>
        </record>

        <record id="action_hr_china_payslips" model="ir.actions.act_window">
            <field name="name">Payslips</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr_china.payslip</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_hr_china_payslips_summary" model="ir.actions.act_window">
            <field name="name">Payslips Summary</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr_china.payslip_summary</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="hr_china_create_payslip_wiz" model="ir.ui.view">
            <field name="name">hr_china_create_payslip.wiz_form</field>
            <field name="model">hr_china.payslip.create</field>
            <field name="arch" type="xml">
                <form string="Select Timesheet Period">
                    <sheet>
                        <h3>Choose the Timesheet Period</h3>

                        <div class="oe_edit_only" style="padding-bottom: 50px; padding-right: 10px; padding-top: 25px">
                            <label string="Choose Date: " class="oe_inline"/>
                            <field name="start_date" class="oe_inline" required="1" widget="date" />
                            <label string=" - " class="oe_inline" />
                            <field name="end_date" class="oe_inline" required="1" widget="date" />
                        </div>

                        <footer>
                            <button string="Update" name="display_timesheet_wizard" type="object" class="btn-primary" />
                            <button string="Cancel" class="btn-default" special="cancel" />
                        </footer>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="hr_china_create_payslip_temp_wiz" model="ir.ui.view">
            <field name="name">hr_china_create_payslip.wiz_temp_form</field>
            <field name="model">hr_china.payslip.create_temp</field>
            <field name="arch" type="xml">
                <form string="Select Employee Timesheet">
                    <sheet>
                        <field name="my_id" >
                            <tree>
                                <field name="employee_id" />
                                <field name="department_id" />
                                <field name="job_title_id" />
                            </tree>
                        </field>

                        <footer>
                            <button string="Create Payslip" name="close_dialog" type="object" class="btn-primary" />
                            <button string="Cancel" class="btn-default" special="cancel" />
                        </footer>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_hr_china_payslip_form" model="ir.ui.view">
            <field name="name">hr_china_payslip.form</field>
            <field name="model">hr_china.payslip</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button string="Confirm" name="action_confirm" states="draft" type="object" class="oe_highlight" />
                        <button string="Approve" name="action_approve" states="draft,confirm" type="object" class="oe_highlight"/>
                        <button string="Set as Draft" name="action_draft" states="validate,confirm" type="object" />
                        <button string="Update Payroll" name="action_update_payroll" states="draft,validate,confirm" type="object"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirm,validate"/>
                    </header>
                    <sheet>
                         <div><h1><field name="name" /></h1></div>
                         <group style="width:50%%">
                             <field name="timesheet_id" readonly="1"/>
                             <field name="start_date" string="Payslip Period From" widget="date" readonly="1"/>
                             <field name="end_date" string="Payslip Period To" widget="date" readonly="1"/>
                             <field name="wage_type" invisible="1" />
                             <field name="currency_id" invisible="1" />
                         </group>
                        <group style="width:50%%">
                            <field name="weekday_worked_days" attrs="{'invisible': [('wage_type', '=', 'hourly')]}" readonly="1"/>
                            <field name="weekday_work_hours" attrs="{'invisible': [('wage_type', '=', 'monthly')]}" readonly="1"/>
                            <field name="weekday_ot_hours" readonly="1"/>
                            <field name="weekend_worked_days" attrs="{'invisible': [('wage_type', '=', 'hourly')]}" readonly="1"/>
                            <field name="weekend_work_hours" attrs="{'invisible': [('wage_type', '=', 'monthly')]}" readonly="1" />
                            <field name="weekend_ot_hours" readonly="1"/>
                            <field name="holiday" readonly="1"/>
                        </group>
                        <group string="Income">
                            <field name="basic_pay" string="Basic Pay" attrs="{'invisible': [('wage_type', '=', 'hourly')]}" widget="monetary" readonly="1"/>
                            <field name="weekday_hourly_pay" string="Weekday Hourly Pay" attrs="{'invisible': [('wage_type', '=', 'monthly')]}" widget="monetary" readonly="1"/>
                            <field name="weekday_overtime_pay" string="Weekday Overtime Pay" attrs="{'invisible': [('wage_type', '=', 'monthly')]}" widget="monetary" readonly="1"/>
                            <field name="weekend_hourly_pay" string="Weekends Hourly Pay" attrs="{'invisible': [('wage_type', '=', 'monthly')]}" widget="monetary" readonly="1" />
                            <field name="weekend_overtime_pay" string="Weekends Overtime Pay" attrs="{'invisible': [('wage_type', '=', 'monthly')]}" widget="monetary" readonly="1" />
                            <field name="holiday_pay" string="Holiday Pay" widget="monetary" readonly="1" attrs="{'invisible': [('wage_type', '=', 'monthly')]}"/>
                        </group>
                        <group>
                            <field name="payslip_benefits" nolabel="1" mode="tree">
                                <tree editable="bottom">
                                    <field name="benefits_id" string="Benefits"/>
                                    <field name="amount" widget="monetary" options="{'currency_field': 'currency_id'}" />
                                </tree>
                            </field>
                        </group>
                        <group>
                            <field name="payslip_deductions" nolabel="1" mode="tree">
                                <tree editable="bottom">
                                    <field name="deductions_id" string="Deductions"/>
                                    <field name="amount" widget="monetary" options="{'currency_field': 'currency_id'}" />
                                </tree>
                            </field>
                        </group>
                        <group>
                            <field name="gross_pay" widget="monetary" readonly="1"/>
                            <field name="total_deductions" widget="monetary" readonly="1"/>
                        </group>
                        <group class="oe_subtotal_footer oe_right" colspan="2">
                            <field name="net_pay" widget="monetary" readonly="1"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_hr_china_payslip_summary_tree" model="ir.ui.view">
            <field name="name">hr_china.payslip_summary.tree</field>
            <field name="model">hr_china.payslip_summary</field>
            <field name="arch" type="xml">
                <tree string="Payslips Summary">
                    <field name="name" />
                    <field name="start_date" widget="date"/>
                    <field name="end_date" widget="date"/>
                    <field name="payslip_total"/>
                </tree>
            </field>
        </record>

        <record id="view_hr_china_payslip_summary_form" model="ir.ui.view">
            <field name="name">hr_china.payslip_summary.form</field>
            <field name="model">hr_china.payslip_summary</field>
            <field name="arch" type="xml">
                <form string="Payroll Summary">
                    <sheet>
                        <div><h2>Payroll Summary <field name="name" /></h2></div>
                        <field name="pslip_trans">
                            <tree>
                                <field name="name" />
                                <field name="net_pay" sum="Total"/>
                                <field name="bank_name" />
                                <field name="bank_branch" />
                                <field name="account_number" />
                                <field name="account_name" />
                            </tree>
                        </field>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_hr_china_payslip_summary_trans_form" model="ir.ui.view">
            <field name="name">hr_china.payslip_summary_trans.form</field>
            <field name="model">hr_china.payslip_summary.trans</field>
            <field name="arch" type="xml">
                <form string="Payroll Summary">
                    <sheet>
                        <group>
                            <field name="name" />
                            <field name="net_pay" />
                            <field name="bank_name" />
                            <field name="bank_branch" />
                            <field name="account_number" />
                            <field name="account_name" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="hr_china_payslip_summary_wiz" model="ir.ui.view">
            <field name="name">hr_china_payslip_summary.wiz_form</field>
            <field name="model">hr_china.payslip_summary.wiz</field>
            <field name="arch" type="xml">
                <form string="Payroll Summary">
                    <sheet>
                        <h3>Choose the Payslip Period</h3>

                        <div class="oe_edit_only" style="padding-bottom: 50px; padding-right: 10px; padding-top: 25px">
                            <label string="Choose Date: " class="oe_inline"/>
                            <field name="start_date" class="oe_inline" required="1" widget="date" />
                            <label string=" - " class="oe_inline" />
                            <field name="end_date" class="oe_inline" required="1" widget="date" />
                        </div>

                        <footer>
                            <button string="Update" name="create_summary" type="object" class="btn-primary" />
                            <button string="Cancel" class="btn-default" special="cancel" />
                        </footer>
                    </sheet>
                </form>
            </field>
        </record>

    </data>
</odoo>