<odoo>
    <data>

        <record id="act_zulu_hr_payslip_tree" model="ir.actions.act_window">
            <field name="name">Payslips</field>
            <field name="res_model">hr_china.payslip</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_employee_id': [active_id], 'default_employee_id': active_id}</field>
        </record>

        <record id="act_zulu_hr_contract_tree" model="ir.actions.act_window">
            <field name="name">Contracts</field>
            <field name="res_model">hr_china.contract</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_employee_id': [active_id], 'default_employee_id': active_id}</field>
        </record>

        <record model="ir.ui.view" id="view_hr_china_employee_form">
            <field name="name">hr_china.view_employee_form</field>
            <field name="model">hr.employee</field>
<!--            <field name="inherit_id" ref="hr.view_employee_form" />-->
            <field name="group_ids">[(6,0, [ref('hr_china.group_hr_china_manager_dropdown')])]</field>
            <field name="inherit_id" ref="zulu_attendance.employee_view_form_inherit" />
            <field name="sequence">3000</field>
            <field name="type">form</field>
            <field name="arch" type="xml">

                <xpath expr="//form/sheet/div/button[4]" position="replace">
                    <button class="oe_stat_button" name="%(act_zulu_hr_payslip_tree)d"
                            type="action" icon="fa-money">
                        <field string="Payslips" name="payslips_count" widget="statinfo"/>
                    </button>
                </xpath>

                <xpath expr="//form/sheet/div/button[3]" position="replace">
                    <button class="oe_stat_button" name="%(act_zulu_hr_contract_tree)d"
                            type="action" icon="fa-clock-o">
                        <field string="Contracts" name="contract_count" widget="statinfo"/>
                    </button>
                </xpath>

                <xpath expr="//form/sheet/div/button[2]" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//form/sheet/div/button[5]" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//form/sheet/notebook/page[@name='public']" position="replace">
                    <page name="public" string="PUBLIC INFORMATION">
                        <group string="Position">
                            <field name="department_id"/>
                            <field name="job_new_id"/>
                            <field name="parent_id"/>
                        </group>
                    </page>
                </xpath>

                <xpath expr="//form/sheet/notebook/page[@name='personal_information']" position="replace">
                    <page name="personal_information" string="PERSONAL INFORMATION">
                        <group>
                            <group string="Personal Information">
                                <field name="first_name" required="1"/>
                                <field name="second_name" required="1"/>
                                <field name="middle_name" />
                                <field name="nick_name" />
                            </group>
                            <group string="Contact Information">
                                <field name="contact_number" required="1"/>
                                <field name="emergency_contact_number" />
                                <field name="emergency_contact_name" />
                                <field name="emergency_contact_relation" />
                            </group>
                        </group>
                        <group>
                            <group string="Citizenship">
                                <field name="country_id" options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"/>
                                <field name="identification_id" groups="hr.group_hr_user"/>
                                <field name="passport_id" groups="hr.group_hr_user"/>
                                <field name="citizenship" />
                            </group>
                            <group string="Bank Information">
                                <field name="bank_name" />
                                <field name="bank_branch" />
                                <field name="account_name" />
                                <field name="account_number" />
                            </group>
                        </group>
                        <group>
                            <group string="Birth">
                                <field name="birthday"/>
                                <field name="place_of_birth" />
                            </group>
                            <group string="Identification">
                                <field name="identification_image" widget="image"/>
                            </group>
                        </group>
                        <group string="Status" style="width:50%%">
                            <field name="gender"/>
                            <field name="marital"/>
                            <field name="children" />
                        </group>

                    </page>
                </xpath>

                <xpath expr="//form/sheet/notebook/page[@name='personal_information']" position="after">
                    <page name="contract" string="CONTRACT">
                        <group>
                            <h1 style="width:50%%">
                                <field name="contract_name"/>
                            </h1>
                        </group>
                        <field name="converted_wage_type" invisible="1" />
                        <group>
                            <group string="General:">
                                <label for="c_wage_type" string="Wage Type:"/>
                                <div class="o_row">
                                    <field name="c_wage_type" />
                                </div>
                                <label for="currency_id" string="Currency:"/>
                                <div class="o_row">
                                    <field name="currency_id" />
                                </div>
                                <label for="payment_method" string="Payment Method"/>
                                <div class="o_row">
                                    <field name="payment_method" />
                                </div>
                            </group>
                            <group style="width:50%%">
                                <field name="start_date" widget="date" required="1"/>
                                <field name="end_date" widget="date" required="1"/>
                                <field name="is_contract_active"/>

                            </group>
                            <group attrs="{'invisible': [('converted_wage_type', '=', 'hourly')]}">
                                <label for="c_monthly_fee" string="Monthly Fee"/>
                                <div class="o_row">
                                    <field name="c_monthly_fee"/>
                                </div>
                                <label for="c_dayoff_deduction" string="Days Off Deduction"/>
                                <div class="o_row">
                                    <field name="c_dayoff_deduction"/>
                                </div>
                            </group>
                            <group attrs="{'invisible': [('converted_wage_type', '=', 'hourly')]}"></group>
                            <group string="Weekdays Rate:" attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}">
                                <label for="c_hourly_rate" string="Hourly Rate"/>
                                <div class="o_row">
                                    <field name="c_hourly_rate"/>
                                </div>
                                <label for="c_weekday_daily_fee" string="Daily Fee"/>
                                <div class="o_row">
                                    <field name="c_weekday_daily_fee"/>
                                </div>
                                <label for="c_weekday_overtime_fee" string="Overtime Fee"/>
                                <div class="o_row">
                                    <field name="c_weekday_overtime_fee"/>
                                </div>
                            </group>
                            <group attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}"></group>
                            <group string="Weekends Rate:" attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}">
                                <label for="c_weekends_fee" string="Hourly Rate"/>
                                <div class="o_row">
                                    <field name="c_weekends_fee"/>
                                </div>
                                <label for="c_weekends_daily_fee" string="Daily Fee"/>
                                <div class="o_row">
                                    <field name="c_weekends_daily_fee"/>
                                </div>
                            </group>
                            <group attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}"></group>
                            <group string="Holiday Rate:" attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}">
                                <label for="c_holiday_fee" string="Hourly Rate"/>
                                <div class="o_row">
                                    <field name="c_holiday_fee"/>
                                </div>
                                <label for="c_holiday_daily_fee" string="Daily Fee"/>
                                <div class="o_row">
                                    <field name="c_holiday_daily_fee"/>
                                </div>
                            </group>
                            <group></group>
                        </group>
<!--                        <group style="width:50%%">-->
<!--                            <field name="contract_template_id" required="1"/>-->
<!--                            <field name="converted_wage_type" invisible="1" />-->
<!--                            <field name="c_wage_type" />-->
<!--                            <field name="currency_id" />-->
<!--                            <field name="c_monthly_fee" widget="monetary" attrs="{'invisible': [('converted_wage_type', '=', 'hourly')]}"/>-->
<!--                            <field name="c_hourly_rate" widget="monetary" attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}"/>-->
<!--                             <field name="c_weekday_daily_fee" widget="monetary" attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}" />-->
<!--                            <field name="c_weekday_overtime_fee" widget="monetary" attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}" />-->
<!--                            <field name="c_weekend_overtime_fee" widget="monetary" attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}" />-->
<!--                            <field name="c_weekends_fee" widget="monetary" attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}" />-->
<!--                            <field name="c_holiday_fee" attrs="{'invisible': [('converted_wage_type', '=', 'monthly')]}" />-->
<!--                            <field name="c_dayoff_deduction" attrs="{'invisible': [('converted_wage_type', '=', 'hourly')]}" />-->

<!--                        </group>-->
                        <notebook>
                            <page string="WORKING TIME">
                                <field name="employee_working_time" mode="tree">
                                    <tree>
                                        <field name="name" />
                                        <field name="day_type"/>
                                        <field name="dayofweek" />
                                        <field name="hour_from" />
                                        <field name="hour_to" />
                                        <field name="break_hours" />
                                    </tree>
                                </field>
                            </page>
                            <page string="BENEFITS">
                                <field name="employee_benefit" mode="tree">
                                    <tree editable="bottom">
                                        <field name="benefits_id"/>
                                        <field name="benefit_type" />
                                        <field name="amount" widget="monetary" options="{'currency_field': 'currency'}"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="DEDUCTIONS">
                                <field name="employee_deduction" mode="tree">
                                    <tree editable="bottom">
                                        <field name="deductions_id"/>
                                        <field name="deduction_type" />
                                        <field name="amount" widget="monetary" options="{'currency_field': 'currency'}"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="OTHER INFORMATION">
                                <group>
                                    <field name="c_other_info" />
                                </group>
                            </page>
                            <page string="CONTRACTS">
                                <field name="all_contracts" mode="tree" >
                                    <tree>
                                        <field name="name" />
                                        <field name="start_date" widget="date" />
                                        <field name="end_date" widget="date" />
                                        <field name="active" string="Is Active" />
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </page>

                    <page name="others" string="OTHERS">
                        <group string="Status">
                            <field name="company_id" on_change="1" can_create="true" can_write="true" invisible="1" modifiers="{'invisible': true}"/>
                            <field name="user_id" string="Related User" options="{'no_create_edit': True, 'no_create': True}"/>
                            <field name="barcode" modifiers="{}"/>
                            <field name="pin" modifiers="{}"/>
                            <field name="manual_attendance" modifiers="{}"/>
                        </group>
                    </page>
                </xpath>

                <xpath expr="//form/sheet/div/button[2]" position="replace">
                    <button type="object" groups="hr_china.group_hr_china_manager,hr_china.group_hr_china_timekeeper,hr_china.group_hr_china_coordinator"
                            class="oe_stat_button"
                            icon="fa-calendar" string="Attendance"
                            name="show_emp_attendance"
                    />
                </xpath>

                <xpath expr="//form/sheet/div/button[3]" position="before">
                    <button class="oe_stat_button" type="action" icon="fa-calendar">
                        <field string="Working Time" name="calendar_id" widget="statinfo"/>
                    </button>
                </xpath>

            </field>
        </record>

        <record id="hr_china_employee_kanban_view" model="ir.ui.view">
            <field name="name">hr_china.employee_kanban</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr_attendance.hr_employees_view_kanban" />
            <field name="priority">1000</field>
            <field name="arch" type="xml">
                <xpath expr="//kanban/templates/t/div[@class='oe_kanban_global_click']/div[@class='oe_kanban_details']/div[@id='textbox']" position="replace">
                    <div class="col-xs-11" style="padding:0px">
                        <strong>
                            <field name="name"/>
                        </strong>
                    </div>
                    <div class="col-xs-1" style="padding:0px">
                        <field name="new_attendance_state" widget="hr_attendance_kanban_presence_indicator"/>
                    </div>
                </xpath>
            </field>
        </record>

        <record id="hr_china_employee_kanban_inh" model="ir.ui.view">
            <field name="name">hr_china.employee_inherit.kanban</field>
            <field name="model">hr.employee</field>
            <field name="priority">100</field>
            <field name="inherit_id" ref="zulu_attendance.employees_kanban_view" />
            <field name="arch" type="xml">
                <xpath expr="//kanban/templates/t/div[@class='oe_kanban_global_click']/div[@class='oe_kanban_details']/strong/div" position="replace">
                    <div id="row">
                    <div class="col-xs-8" style="padding:0px; ">
                        <strong>
                            <field name="name" placeholder="Employee's Name" />
                        </strong>
                    </div>
                    <div class="col-xs-4" style="padding:0px; text-transform: uppercase; font-size:11px; text-align:right;">
                        <field name="new_attendance_state" invisible="1"/>
                        <t t-if="record.new_attendance_state.raw_value=='checked_out'">
                            <div style="color:red;">CHECKED OUT</div>
                        </t>
                        <t t-if="record.new_attendance_state.raw_value=='checked_in'">
                            <div style="color:green;">CHECKED IN</div>
                        </t>
                    </div>
                </div>
                </xpath>
            </field>
        </record>

    </data>
</odoo>